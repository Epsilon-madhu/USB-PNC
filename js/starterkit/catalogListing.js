function refreshCatalogProducts(){
    console.log('loading')
}
var rewardsList = [{
    "rewardId": 171114,
    "rewardCode": "M-RO3370",
    "title": "Targus - Mobile ViP Topload  Laptop Briefcase - Black",
    "desc":"Targus - Mobile ViP Topload  Laptop Briefcase - Black",
    "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511455464/production/dxn7z7abgmg2eeaibyag.jpg",
    "brand":"Targus",
    "category":"CAT_USB_000004",
    "points":{"basePointsToCharge":5000,"originalBasePointsToCharge":6000}
    },
    {
    "rewardId": 171237,
    "rewardCode": "M-RO6975",
    "title": "ecobee - ecobee Remote Sensors (2-Pack) - White",
    "desc":"ecobee - ecobee Remote Sensors (2-Pack) - White",
    "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1541210725/production/g0cefspdv1pq6eeqyugn.jpg",
    "brand":"ecobee",
    "category":"CAT_USB_000004",
    "points":{"basePointsToCharge":7000,"originalBasePointsToCharge":7000}
    },
    {
    "rewardId": 171258,
    "rewardCode": "M-RO7062",
    "title": "Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
    "desc":"Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
    "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511456982/production/erjzehtkt6sonqjtzjou.jpg",
    "brand":"Beats by Dr. Dre",
    "category":"CAT_USB_000004",
    "points":{"basePointsToCharge":8000,"originalBasePointsToCharge":9000}
    },
    {
        "rewardId": 171114,
        "rewardCode": "M-RO3370",
        "title": "Targus - Mobile ViP Topload  Laptop Briefcase - Black",
        "desc":"Targus - Mobile ViP Topload  Laptop Briefcase - Black",
        "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511455464/production/dxn7z7abgmg2eeaibyag.jpg",
        "brand":"Targus",
        "category":"CAT_USB_000004",
        "points":{"basePointsToCharge":5000,"originalBasePointsToCharge":6000}
        },
        {
        "rewardId": 171237,
        "rewardCode": "M-RO6975",
        "title": "ecobee - ecobee Remote Sensors (2-Pack) - White",
        "desc":"ecobee - ecobee Remote Sensors (2-Pack) - White",
        "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1541210725/production/g0cefspdv1pq6eeqyugn.jpg",
        "brand":"ecobee",
        "category":"CAT_USB_000004",
        "points":{"basePointsToCharge":7000,"originalBasePointsToCharge":7000}
        },
        {
        "rewardId": 171258,
        "rewardCode": "M-RO7062",
        "title": "Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
        "desc":"Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
        "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511456982/production/erjzehtkt6sonqjtzjou.jpg",
        "brand":"Beats by Dr. Dre",
        "category":"CAT_USB_000004",
        "points":{"basePointsToCharge":8000,"originalBasePointsToCharge":9000}
        },
        {
            "rewardId": 171114,
            "rewardCode": "M-RO3370",
            "title": "Targus - Mobile ViP Topload  Laptop Briefcase - Black",
            "desc":"Targus - Mobile ViP Topload  Laptop Briefcase - Black",
            "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511455464/production/dxn7z7abgmg2eeaibyag.jpg",
            "brand":"Targus",
            "category":"CAT_USB_000004",
            "points":{"basePointsToCharge":5000,"originalBasePointsToCharge":6000}
            },
            {
            "rewardId": 171237,
            "rewardCode": "M-RO6975",
            "title": "ecobee - ecobee Remote Sensors (2-Pack) - White",
            "desc":"ecobee - ecobee Remote Sensors (2-Pack) - White",
            "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1541210725/production/g0cefspdv1pq6eeqyugn.jpg",
            "brand":"ecobee",
            "category":"CAT_USB_000004",
            "points":{"basePointsToCharge":7000,"originalBasePointsToCharge":7000}
            },
            {
            "rewardId": 171258,
            "rewardCode": "M-RO7062",
            "title": "Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
            "desc":"Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
            "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511456982/production/erjzehtkt6sonqjtzjou.jpg",
            "brand":"Beats by Dr. Dre",
            "category":"CAT_USB_000004",
            "points":{"basePointsToCharge":8000,"originalBasePointsToCharge":9000}
            },
            {
                "rewardId": 171114,
                "rewardCode": "M-RO3370",
                "title": "Targus - Mobile ViP Topload  Laptop Briefcase - Black",
                "desc":"Targus - Mobile ViP Topload  Laptop Briefcase - Black",
                "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511455464/production/dxn7z7abgmg2eeaibyag.jpg",
                "brand":"Targus",
                "category":"CAT_USB_000004",
                "points":{"basePointsToCharge":5000,"originalBasePointsToCharge":6000}
                },
                {
                "rewardId": 171237,
                "rewardCode": "M-RO6975",
                "title": "ecobee - ecobee Remote Sensors (2-Pack) - White",
                "desc":"ecobee - ecobee Remote Sensors (2-Pack) - White",
                "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1541210725/production/g0cefspdv1pq6eeqyugn.jpg",
                "brand":"ecobee",
                "category":"CAT_USB_000004",
                "points":{"basePointsToCharge":7000,"originalBasePointsToCharge":7000}
                },
                {
                "rewardId": 171258,
                "rewardCode": "M-RO7062",
                "title": "Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
                "desc":"Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
                "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511456982/production/erjzehtkt6sonqjtzjou.jpg",
                "brand":"Beats by Dr. Dre",
                "category":"CAT_USB_000004",
                "points":{"basePointsToCharge":8000,"originalBasePointsToCharge":9000}
                },
                {
                    "rewardId": 171114,
                    "rewardCode": "M-RO3370",
                    "title": "Targus - Mobile ViP Topload  Laptop Briefcase - Black",
                    "desc":"Targus - Mobile ViP Topload  Laptop Briefcase - Black",
                    "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511455464/production/dxn7z7abgmg2eeaibyag.jpg",
                    "brand":"Targus",
                    "category":"CAT_USB_000004",
                    "points":{"basePointsToCharge":5000,"originalBasePointsToCharge":6000}
                    },
                    {
                    "rewardId": 171237,
                    "rewardCode": "M-RO6975",
                    "title": "ecobee - ecobee Remote Sensors (2-Pack) - White",
                    "desc":"ecobee - ecobee Remote Sensors (2-Pack) - White",
                    "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1541210725/production/g0cefspdv1pq6eeqyugn.jpg",
                    "brand":"ecobee",
                    "category":"CAT_USB_000004",
                    "points":{"basePointsToCharge":7000,"originalBasePointsToCharge":7000}
                    },
                    {
                    "rewardId": 171258,
                    "rewardCode": "M-RO7062",
                    "title": "Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
                    "desc":"Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
                    "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511456982/production/erjzehtkt6sonqjtzjou.jpg",
                    "brand":"Beats by Dr. Dre",
                    "category":"CAT_USB_000004",
                    "points":{"basePointsToCharge":8000,"originalBasePointsToCharge":9000}
                    },
                    {
                        "rewardId": 171114,
                        "rewardCode": "M-RO3370",
                        "title": "Targus - Mobile ViP Topload  Laptop Briefcase - Black",
                        "desc":"Targus - Mobile ViP Topload  Laptop Briefcase - Black",
                        "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511455464/production/dxn7z7abgmg2eeaibyag.jpg",
                        "brand":"Targus",
                        "category":"CAT_USB_000004",
                        "points":{"basePointsToCharge":5000,"originalBasePointsToCharge":6000}
                        },
                        {
                        "rewardId": 171237,
                        "rewardCode": "M-RO6975",
                        "title": "ecobee - ecobee Remote Sensors (2-Pack) - White",
                        "desc":"ecobee - ecobee Remote Sensors (2-Pack) - White",
                        "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1541210725/production/g0cefspdv1pq6eeqyugn.jpg",
                        "brand":"ecobee",
                        "category":"CAT_USB_000004",
                        "points":{"basePointsToCharge":7000,"originalBasePointsToCharge":7000}
                        },
                        {
                        "rewardId": 171258,
                        "rewardCode": "M-RO7062",
                        "title": "Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
                        "desc":"Beats by Dr. Dre - Beats Pill+ Speaker - (PRODUCT)RED",
                        "image":"https://res.cloudinary.com/pangea-uat/image/upload/b_white,c_pad,h_350,w_350/v1511456982/production/erjzehtkt6sonqjtzjou.jpg",
                        "brand":"Beats by Dr. Dre",
                        "category":"CAT_USB_000004",
                        "points":{"basePointsToCharge":8000,"originalBasePointsToCharge":9000}
                        }]
    
catalog = {
    loadDefault:function(){
        $('.catalog-content-list .catalog-products').html(catalog.getTemplate(rewardsList));
        $('.acc-activity-itemPerpage li:first-child').addClass('active');
        $('.catalog-content-sort--panel input[type="checkbox"]').each(function(index){
            $(this).attr('data-index',index);
        })

        if($('.acc-activity-itemPerpage ul li.active').data('items-per-page')){
            this.resetPaginate();
        }
        // on change of select dropdown.
        $('.catalog-pagination .acc-activity-pagination select').change(function(){
           var currPage = $(this).val();
           var recordsPerPage = $('.acc-activity-itemPerpage ul li.active').data('items-per-page');
           catalog.showItems(recordsPerPage,currPage)
        })

        // on click of items per page.
        $('.acc-activity-itemPerpage ul li').click(function(){
            $('.acc-activity-itemPerpage ul li').removeClass('active');
            $(this).addClass('active');
            catalog.resetPaginate();
        })

        // on click of left arrow "PREV"
        $('.catalog-pagination .acc-activity-pagination .acc-prev').click(function(){
             var currPage =  Number($('.catalog-pagination .acc-activity-pagination select').val());
            $('.catalog-pagination .acc-activity-pagination select').val(currPage-1);
            var recordsPerPage = $('.acc-activity-itemPerpage ul li.active').data('items-per-page');
            catalog.showItems(recordsPerPage,currPage-1);
        })

        // on click of right arrow "NEXT"
        $('.catalog-pagination .acc-next').not('.btn-disable').click(function(){
             var currPage =  Number($('.catalog-pagination .acc-activity-pagination select').val());
            $('.catalog-pagination .acc-activity-pagination select').val(currPage+1);
            var recordsPerPage = $('.acc-activity-itemPerpage ul li.active').data('items-per-page');
            catalog.showItems(recordsPerPage,currPage+1);
        })

        $(".catalog-content-sort--panelContent .container-checkbox input[type='checkbox']").on('change', function(){
            var val = $(this).val();
            var idx =  $(this).data('index');
            if($(this).is(':checked')){              
                $(".catalog-content-sort--tags ul").append('<li data-val="'+val+'" data-idx="'+idx+'">'+ val +' <a href="javascript:void(0)">X</a></li>')
            }else{
                $(this).removeAttr('checked'); 
                $('.catalog-content-sort--tags li[data-idx="'+idx+'"]').remove();
            }

            console.log($(".catalog-content-sort--tags ul li").length);

            if($(".catalog-content-sort--tags ul li").length == 0 ) {
                $('.clearAll-filter').hide();
            } else {
                $('.clearAll-filter').show();
            }

            $('.catalog-content-sort--tags li a').click(function(){     
                var currVal = $(this).parent().data('val');
                var currIdx = $(this).parent().data('idx');
                $('.catalog-content-sort--panel input[data-index="'+currIdx+'"]').prop('checked', false);
                $(this).parent().remove()
                refreshCatalogProducts();
            });
        });
    
   
    
        $(".clearAll-filter").click(function(){
            $(this).hide();
            $(".catalog-content-sort--tags ul ").html("");
            $(".container-checkbox input").prop('checked', false);
            refreshCatalogProducts();
        });
    },
    getTemplate:function(data){
        var template = '';
        for(var i=0;i<data.length;i++){
            template +='<li class="col-md-4">'
            +'<div class="catalog-product-list">'
            +'<img src="'+data[i].image+'" alt="'+data[i].title+'" class="" />'
            +'<div class="catalog-product-list--desc">'
            +'<h4>'+data[i].title+'</h4>'
            +'<p>'+data[i].desc+'</p>'
            +'<a href="#">Show Details>></a>'
            +'<div class="catalog-product-list-pointDetail">'
            +'<div class="catalog-product-list--points"><h4><span class="points">'+data[i].points.basePointsToCharge+'</span> Points</h4>'
            +'<input type="range" class="custom-range customRangePlp">'
            +'<div class="poit-range-container"><span class="pull-left point-bottom"><p class="ammount">600</p><p>Points</p></span>'
            +'<span class="pull-right point-bottom"><p class="ammount">$0</p><p>Cash</p></span>'
            +'</div>'
            +'</div>'
            +'</div></div>'
            +'<div class="catalog-product-list-add"><button class="c-btn btn btn-primary">Add</button></div></div>'
            +'</li>'
        }
        return template;
    },
	updatePagination: function(lastPage){				
        var optionTemplate = '';
        for(var j=1; j<lastPage+1;j++){
            optionTemplate += '<option value="'+j+'">Page '+j+' of '+lastPage+'</option>'
        }					
        return optionTemplate;
    },
    showItems: function(recordsPerPage,currPage){
        var recToHide = recordsPerPage * (currPage - 1);
        var recToshow = recordsPerPage * currPage;   
        $('ul.catalog-products li').hide();
        $('ul.catalog-products li:lt('+recToshow+')').show();
        $('ul.catalog-products li:lt('+recToHide+')').hide();
        var currVal = Number($('.catalog-pagination .acc-activity-pagination-wrapper select').val());
        var numberOfItems = $('ul.catalog-products li').length;
        var numberOfPages = numberOfItems > 0 ? Math.ceil(numberOfItems/recordsPerPage) : 0;
        numberOfPages === 0 ? $('.acc-activity-pagination-wrapper').hide() : $('.acc-activity-pagination-wrapper').show()
        if(currVal === numberOfPages){
            $('.catalog-pagination .acc-next').addClass('btn-disable'); 
        }else{
            $('.catalog-pagination .acc-next').removeClass('btn-disable'); 
        }

        if(currVal === 1){
            $('.catalog-pagination .acc-prev').addClass('btn-disable'); 
        }else{
            $('.catalog-pagination .acc-prev').removeClass('btn-disable'); 
        }
        $("html, body").animate({scrollTop: $(".catalog-content").offset().top}, 1000);
    },
    resetPaginate:function(){
        var recordsPerPage = $('.acc-activity-itemPerpage ul li.active').data('items-per-page');
        var numberOfItems = $('ul.catalog-products li').length;
        var numberOfPages = numberOfItems > 0 ? Math.ceil(numberOfItems/recordsPerPage) : 0;
        $('.catalog-pagination .acc-activity-pagination-wrapper select').html(catalog.updatePagination(numberOfPages));
        var currPage = 1;
        this.showItems(recordsPerPage,currPage);
    }
}

$(document).ready(function(){
    catalog.loadDefault();
      // select color change
  $('.catalog-wrapper .acc-activity-pagination select').selectBox({
    mobile: false,
    menuSpeed: 'fast',
    menuTransition: 'fade'
});
  $(document).on("change", ".customRangePlp, .customRangepdp", function(){
        $(this).parent(".catalog-product-list--points").find(".points").text($(this).val());
    });
});



