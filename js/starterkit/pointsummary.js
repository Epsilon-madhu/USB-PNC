var profileData ={
  "processedPointsSummary": {
    "indPointsAvailable": 196962,
    "indPointsRedeemed": 863500,
    "indPointsExpiring": 0,
    "indPointsExpiryDate": "06/30/2019",
    "poolPointsAvailable": 0,
    "poolPointsRedeemed": 0,
    "poolPointsExpiring": 0
  },
  "indTransactions": [
    {
      "date": "05/21/2019 08:49:32",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-515000",
      "orderId": "428079"
    },
    {
      "date": "05/21/2019 08:37:17",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-100",
      "orderId": "428077"
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Points Adjustment",
      "pointType": "Adjustment Points",
      "accountId": "9999",
      "pointAmount": "90000",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Points Adjustment",
      "pointType": "Adjustment Points",
      "accountId": "9999",
      "pointAmount": "600000",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/21/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/19/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/16/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-1",
      "orderId": ""
    },
    {
      "date": "05/14/2019 10:52:46",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-200",
      "orderId": "427053"
    },
    {
      "date": "05/13/2019 10:51:29",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2500",
      "orderId": "427045"
    },
    {
      "date": "04/17/2019 14:13:47",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "420046"
    },
    {
      "date": "04/11/2019 16:25:34",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "417121"
    },
    {
      "date": "03/18/2019 00:00:00",
      "transaction": "Transfer",
      "pointType": "Transferred Points",
      "accountId": "9999",
      "pointAmount": "-25",
      "orderId": ""
    },
    {
      "date": "03/18/2019 00:00:00",
      "transaction": "Points Adjustment",
      "pointType": "Adjustment Points",
      "accountId": "9999",
      "pointAmount": "500",
      "orderId": ""
    },
    {
      "date": "03/14/2019 12:28:51",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "411044"
    },
    {
      "date": "03/11/2019 11:45:09",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-3200",
      "orderId": "411036"
    },
    {
      "date": "03/11/2019 11:05:28",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-39700",
      "orderId": "411035"
    },
    {
      "date": "03/11/2019 11:04:41",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-36600",
      "orderId": "411034"
    },
    {
      "date": "03/11/2019 10:51:00",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-6800",
      "orderId": "411033"
    },
    {
      "date": "03/11/2019 10:50:23",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5600",
      "orderId": "411032"
    },
    {
      "date": "03/11/2019 08:56:48",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "411028"
    },
    {
      "date": "03/11/2019 08:56:39",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "411027"
    },
    {
      "date": "03/11/2019 08:56:31",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-50000",
      "orderId": "411026"
    },
    {
      "date": "03/11/2019 08:56:15",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2500",
      "orderId": "411025"
    },
    {
      "date": "03/11/2019 08:54:35",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-7000",
      "orderId": "411020"
    },
    {
      "date": "03/11/2019 00:00:00",
      "transaction": "Points Adjustment",
      "pointType": "Adjustment Points",
      "accountId": "9999",
      "pointAmount": "100000",
      "orderId": ""
    },
    {
      "date": "02/27/2019 03:51:40",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "100",
      "orderId": "392111"
    },
    {
      "date": "02/27/2019 03:49:51",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2100",
      "orderId": "409013"
    },
    {
      "date": "02/27/2019 03:49:51",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2000",
      "orderId": "409013"
    },
    {
      "date": "02/27/2019 03:49:51",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1900",
      "orderId": "409013"
    },
    {
      "date": "02/27/2019 03:49:51",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1800",
      "orderId": "409013"
    },
    {
      "date": "02/27/2019 03:49:51",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1700",
      "orderId": "409013"
    },
    {
      "date": "02/27/2019 03:49:51",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1600",
      "orderId": "409013"
    },
    {
      "date": "02/27/2019 03:49:51",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1500",
      "orderId": "409013"
    },
    {
      "date": "02/27/2019 03:38:46",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2000",
      "orderId": "392110"
    },
    {
      "date": "02/27/2019 03:38:46",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2100",
      "orderId": "392110"
    },
    {
      "date": "02/27/2019 03:26:52",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1550",
      "orderId": "409012"
    },
    {
      "date": "02/25/2019 12:33:01",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-12600",
      "orderId": "409013"
    },
    {
      "date": "02/25/2019 12:31:09",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-1550",
      "orderId": "409012"
    },
    {
      "date": "01/30/2019 07:18:49",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "404070"
    },
    {
      "date": "01/30/2019 03:48:00",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "404065"
    },
    {
      "date": "01/20/2019 20:08:07",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "403016"
    },
    {
      "date": "01/20/2019 19:51:03",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "403015"
    },
    {
      "date": "01/20/2019 19:26:05",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "403013"
    },
    {
      "date": "12/21/2018 11:45:02",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "5600",
      "orderId": "394100"
    },
    {
      "date": "12/20/2018 13:15:44",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "8500",
      "orderId": "394099"
    },
    {
      "date": "12/20/2018 11:29:23",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2600",
      "orderId": "394101"
    },
    {
      "date": "12/20/2018 11:28:07",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5600",
      "orderId": "394100"
    },
    {
      "date": "12/20/2018 11:17:54",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-8500",
      "orderId": "394099"
    },
    {
      "date": "12/20/2018 09:42:38",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2700",
      "orderId": "394098"
    },
    {
      "date": "12/20/2018 08:56:50",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5600",
      "orderId": "394097"
    },
    {
      "date": "12/20/2018 07:34:22",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1800",
      "orderId": "394095"
    },
    {
      "date": "12/20/2018 07:33:32",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1700",
      "orderId": "394095"
    },
    {
      "date": "12/20/2018 07:31:54",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1900",
      "orderId": "394095"
    },
    {
      "date": "12/20/2018 07:31:24",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1900",
      "orderId": "394095"
    },
    {
      "date": "12/20/2018 07:13:54",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-7300",
      "orderId": "394095"
    },
    {
      "date": "12/19/2018 12:45:21",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "5000",
      "orderId": "392146"
    },
    {
      "date": "12/19/2018 09:31:19",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2000",
      "orderId": "394076"
    },
    {
      "date": "12/19/2018 09:28:00",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2000",
      "orderId": "394076"
    },
    {
      "date": "12/19/2018 09:19:18",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1550",
      "orderId": "392130"
    },
    {
      "date": "12/18/2018 15:56:17",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2200",
      "orderId": "394053"
    },
    {
      "date": "12/13/2018 13:26:39",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-1200",
      "orderId": "393016"
    },
    {
      "date": "12/13/2018 13:25:06",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-1200",
      "orderId": "393015"
    },
    {
      "date": "12/13/2018 13:19:29",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "392147"
    },
    {
      "date": "12/13/2018 13:19:14",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "392146"
    },
    {
      "date": "12/13/2018 09:52:06",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "392141"
    },
    {
      "date": "12/12/2018 13:12:59",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-1550",
      "orderId": "392130"
    },
    {
      "date": "12/12/2018 13:04:04",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-1700",
      "orderId": "392129"
    },
    {
      "date": "12/12/2018 13:03:18",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5600",
      "orderId": "392128"
    },
    {
      "date": "12/12/2018 12:47:27",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-3200",
      "orderId": "392127"
    },
    {
      "date": "12/11/2018 08:38:20",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-3500",
      "orderId": "392118"
    },
    {
      "date": "12/11/2018 08:07:56",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-1300",
      "orderId": "392114"
    },
    {
      "date": "12/10/2018 14:51:58",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1550",
      "orderId": "392112"
    },
    {
      "date": "12/10/2018 14:45:59",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-1550",
      "orderId": "392112"
    },
    {
      "date": "12/10/2018 14:42:32",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-100",
      "orderId": "392111"
    },
    {
      "date": "12/10/2018 14:41:12",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-12600",
      "orderId": "392110"
    },
    {
      "date": "12/10/2018 00:00:00",
      "transaction": "Points Adjustment",
      "pointType": "Adjustment Points",
      "accountId": "9999",
      "pointAmount": "150000",
      "orderId": ""
    },
    {
      "date": "12/07/2018 17:02:56",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-1100",
      "orderId": "392032"
    },
    {
      "date": "12/07/2018 13:59:19",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-300",
      "orderId": "392030"
    },
    {
      "date": "11/13/2018 23:36:17",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-1100",
      "orderId": "385991"
    },
    {
      "date": "11/07/2018 14:20:13",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-1700",
      "orderId": "385020"
    },
    {
      "date": "09/23/2018 14:03:36",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2000",
      "orderId": "375026"
    },
    {
      "date": "09/21/2018 16:39:26",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "375027"
    },
    {
      "date": "09/21/2018 16:35:48",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2000",
      "orderId": "375026"
    },
    {
      "date": "09/18/2018 13:00:01",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "5400",
      "orderId": "373184"
    },
    {
      "date": "09/18/2018 12:30:01",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2700",
      "orderId": "373185"
    },
    {
      "date": "09/18/2018 11:00:02",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2700",
      "orderId": "373185"
    },
    {
      "date": "09/17/2018 13:30:48",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2200",
      "orderId": "374977"
    },
    {
      "date": "09/17/2018 13:30:48",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2200",
      "orderId": "374977"
    },
    {
      "date": "09/17/2018 13:30:48",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2200",
      "orderId": "374977"
    },
    {
      "date": "09/17/2018 13:30:47",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2200",
      "orderId": "374977"
    },
    {
      "date": "09/17/2018 13:25:03",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-11000",
      "orderId": "374977"
    },
    {
      "date": "09/17/2018 13:22:38",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2200",
      "orderId": "374976"
    },
    {
      "date": "09/17/2018 13:22:38",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2200",
      "orderId": "374976"
    },
    {
      "date": "09/17/2018 11:49:20",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-4400",
      "orderId": "374976"
    },
    {
      "date": "09/14/2018 12:59:59",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2900",
      "orderId": "373186"
    },
    {
      "date": "09/14/2018 12:59:59",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2900",
      "orderId": "373186"
    },
    {
      "date": "09/14/2018 07:16:29",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5800",
      "orderId": "373186"
    },
    {
      "date": "09/14/2018 07:15:55",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5400",
      "orderId": "373185"
    },
    {
      "date": "09/14/2018 07:15:26",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5400",
      "orderId": "373184"
    },
    {
      "date": "09/14/2018 07:14:59",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-3200",
      "orderId": "373183"
    },
    {
      "date": "09/12/2018 12:37:53",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-6800",
      "orderId": "373175"
    },
    {
      "date": "09/12/2018 08:22:18",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-900",
      "orderId": "373173"
    },
    {
      "date": "09/10/2018 12:18:42",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-14400",
      "orderId": "372988"
    },
    {
      "date": "09/10/2018 08:13:23",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1200",
      "orderId": "355943"
    },
    {
      "date": "09/06/2018 12:27:36",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-4400",
      "orderId": "371962"
    },
    {
      "date": "09/06/2018 12:14:35",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2200",
      "orderId": "371961"
    },
    {
      "date": "09/06/2018 12:04:59",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2200",
      "orderId": "371961"
    },
    {
      "date": "08/31/2018 10:29:31",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2700",
      "orderId": "368013"
    },
    {
      "date": "08/31/2018 10:29:31",
      "transaction": "Returned",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2700",
      "orderId": "368013"
    },
    {
      "date": "08/31/2018 10:18:50",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-8100",
      "orderId": "368013"
    },
    {
      "date": "08/31/2018 07:13:12",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "368011"
    },
    {
      "date": "08/30/2018 12:24:29",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5000",
      "orderId": "368007"
    },
    {
      "date": "08/30/2018 10:30:59",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2700",
      "orderId": "368005"
    },
    {
      "date": "08/30/2018 10:30:59",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5400",
      "orderId": "368005"
    },
    {
      "date": "08/29/2018 08:59:21",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2500",
      "orderId": "367996"
    },
    {
      "date": "08/28/2018 11:08:07",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2500",
      "orderId": "367981"
    },
    {
      "date": "08/23/2018 16:04:07",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-900",
      "orderId": "366931"
    },
    {
      "date": "08/23/2018 14:02:09",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2500",
      "orderId": "366928"
    },
    {
      "date": "08/23/2018 13:04:21",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5400",
      "orderId": "366927"
    },
    {
      "date": "08/23/2018 13:04:21",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "2700",
      "orderId": "366927"
    },
    {
      "date": "08/23/2018 13:02:16",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2200",
      "orderId": "366926"
    },
    {
      "date": "08/23/2018 12:55:40",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-2000",
      "orderId": "366925"
    },
    {
      "date": "08/23/2018 07:52:18",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-900",
      "orderId": "366919"
    },
    {
      "date": "08/23/2018 00:00:00",
      "transaction": "Points Adjustment",
      "pointType": "Adjustment Points",
      "accountId": "9999",
      "pointAmount": "90000",
      "orderId": ""
    },
    {
      "date": "07/12/2018 11:12:16",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-900",
      "orderId": "358966"
    },
    {
      "date": "07/11/2018 15:06:54",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "1600",
      "orderId": "358961"
    },
    {
      "date": "07/11/2018 15:06:54",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-1600",
      "orderId": "358961"
    },
    {
      "date": "07/10/2018 14:38:34",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-900",
      "orderId": "358944"
    },
    {
      "date": "06/28/2018 09:46:51",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-5200",
      "orderId": "355958"
    },
    {
      "date": "06/27/2018 12:56:36",
      "transaction": "Redemption",
      "pointType": "Reward Points",
      "accountId": "9999",
      "pointAmount": "-16500",
      "orderId": "355943"
    },
    {
      "date": "06/27/2018 00:00:00",
      "transaction": "Points Adjustment",
      "pointType": "Adjustment Points",
      "accountId": "9999",
      "pointAmount": "30000",
      "orderId": ""
    }
  ],
  "houseHoldTransactions": [],
  "resultSetLength": 141,
  "pointType": [
    "Adjustment Points",
    "Transferred Points",
    "Reward Points"
  ],
  "accountType": [
    "9999"
  ],
  "poolPointType": [],
  "poolAccountType": []
}

var orderHistory = {
					orderDetail: {
					redemption: 411044,
					name: "Altitude Altitude",
					addressLine: "",
					city: "",
					state: "",
					postalCode: "",
					eachLineItem: [
					{
					quantity: "1",
					rewardTitle: "Statement Credit to Your Account",
					priceInPoints: "-5000",
					status: "Processing Order",
					deliveryMethod: "ddddddddd",
					rewardType: 1,
					deliveryLink:""
					}
					]
					},
					resultSetLength: 0
	};

	function comparedateAsc(a, b) {
		const genreA = new Date(a.date);
		const genreB = new Date(b.date);
		
		let comparison = 0;
		if (genreA > genreB) {
			comparison = 1;
		} else if (genreA < genreB) {
			comparison = -1;
		}
		return comparison;
	}

	function comparedateDesc(a, b) {
		const genreA = new Date(a.date);
		const genreB = new Date(b.date);
		
		let comparison = 0;
		if (genreA > genreB) {
			comparison = 1;
		} else if (genreA < genreB) {
			comparison = -1;
		}
		return comparison;
	}

	function comparepointAsc(a, b) {
		const genreA = Number(a.pointAmount);
		const genreB = Number(b.pointAmount);
		
		let comparison = 0;
		if (genreA > genreB) {
			comparison = 1;
		} else if (genreA < genreB) {
			comparison = -1;
		}
		return comparison;
	}

	function comparepointDesc(a, b) {
		const genreA = Number(a.pointAmount);
		const genreB = Number(b.pointAmount);
		
		let comparison = 0;
		if (genreA > genreB) {
			comparison = -1;
		} else if (genreA < genreB) {
			comparison = 1;
		}
		return comparison;
	}

	// to increse page limit 
	$.fn.DataTable.ext.pager.numbers_length = 2000000000;

var recordsPerPage = $('.rec_per_page') ? Number($('.rec_per_page').text().trim()): 5;

console.log(profileData)
console.log(orderHistory)

function GetFormattedDate(newDate) {
  var todayTime = new Date(newDate);
  var month = todayTime .getMonth() + 1;
  var day = todayTime .getDate();
  var year = todayTime .getFullYear();
  return month + "/" + day + "/" + year;
}

//function to iterate the data passed
pointSummary={
				generateTemplate: function(data){					
					var pointSumtemplate = '';
					for(var i=0;i<data.length;i++){
						var curData = JSON.stringify(data[i]);
						var new_date = new Date(data[i].date);
						pointSumtemplate += '<tr>';
						data[i].orderId === '' ?
							pointSumtemplate += '<td data-sort="'+new_date+'"><div>'+GetFormattedDate(data[i].date)+'</div></td><td><div>'+data[i].transaction+'</div></td>'
						:
							pointSumtemplate += '<td data-sort="'+new_date+'"><div><span class="icon icon-Icon---arrow-right"></span>'+GetFormattedDate(data[i].date)+'</div></td><td  data-target="#accordion" class="clickable" data-trans=\''+curData+'\'><div><a href="javascript:void(0)">'+data[i].transaction+'</a></div></td>'

						pointSumtemplate += '<td><div>'+data[i].pointType+'</div></td>'
											+'<td class="profile_acc_id"><div>'+data[i].accountId+'</div></td>'
											+'<td><div>'+Number(data[i].pointAmount).toLocaleString("en")+'</div></td>'
											+'</tr>'
					}
					return pointSumtemplate;
				},
				updatePagination: function(lastPage){				
					var optionTemplate = '';
					for(var j=1; j<lastPage;j++){
						optionTemplate += '<option value="'+j+'">Page '+j+' of '+(lastPage-1)+'</option>'
					}					
					return optionTemplate
				},
				paginate:function(currElem){
					var parent = currElem.parents('.tab-pane')
					var currPage = parent.find('.dataTables_paginate .paginate_button.current').data('dt-idx');
					parent.find('select.profile-pagination').val(currPage);
					parent.find("select.profile-pagination").change()
					if(parent.find('select.profile-pagination').hasClass('selectBox')){
						parent.find('select.profile-pagination').selectBox('refresh',{mobile: false});
					 }					
					parent.find("table tr").removeClass('tableCollapsed')
					parent.find('table tr[role="details"]').remove();
				},
				createOptions:function(arr,label){
					var optionTemplate = label ? '<option value="">select '+label+'</option>':'';
					for(var j=0; j<arr.length;j++){
						optionTemplate += '<option value="'+arr[j]+'">'+arr[j]+'</option>'
					}					
					return optionTemplate
				},
				search:function(dt,currElem){
                    var parent = currElem.parents('.tab-pane')
					var pointType = parent.find('select.point-type').val();
					var accountId = parent.find('select.account-id').val() ? parent.find('select.account-id').val() : ""; 
					var finalSearchKey = pointType === '' && accountId !== '' ? accountId : pointType !== '' && accountId === '' ? pointType : pointType !== '' && accountId !== '' ? pointType+' '+accountId : '';
					dt.search( finalSearchKey ).draw();
                    this.resetPagination(currElem);
										currElem.parents('.modal').modal('hide');
						// to sort
						var sortVal = parent.find('select.sortFilter').val();
						var sortArr = sortVal.split('_');
						if(sortArr[0] === 'points'){
								if(sortArr[1]==="asc"){
									dt.order( [ 4, 'asc' ] ).draw();
								}else{
									dt.order( [ 4, 'desc' ] ).draw();
								}
						}else if(sortArr[0] === 'date'){
								if(sortArr[1]==="new"){
									dt.order( [ 0, 'desc' ] ).draw();
								}else{
									dt.order( [ 0, 'asc' ] ).draw();
								}
						}


          this.updateMobView(parent,pointType,accountId,sortVal)
          getOrderhistory();
					parent.find("table tr").removeClass('tableCollapsed')
					parent.find('table tr[role="details"]').remove();

					// to show acc-sort-tags
					if(pointType!==''){
						parent.find('.acc-sort-tags .point-type-tag').remove();
						parent.find('.acc-sort-tags').append('<li class="point-type-tag" data-tag="'+pointType+'">'+pointType +' <a href="javascript:void(0)">X</a></li>');
					}else{
						parent.find('.acc-sort-tags .point-type-tag').remove();
					}

					if(accountId!==''){
						parent.find('.acc-sort-tags .account-id-tag').remove();
						parent.find('.acc-sort-tags').append('<li class="account-id-tag" data-tag="'+accountId+'">'+accountId +' <a href="javascript:void(0)">X</a></li>');
					}else{
						parent.find('.acc-sort-tags .account-id-tag').remove();
					}

					// to remove selected after filter
					$('.tab-pane .acc-sort-tags li a').on('click',function(e){
						var parentElem = $(this).parents('.tab-pane')
						if($(this).parent().hasClass('account-id-tag')){
							parentElem.find('.acc-sort-tags .account-id-tag').remove()
						  parentElem.find('select.account-id').val(''); 
						}else{
							parentElem.find('.acc-sort-tags .point-type-tag').remove();
							parentElem.find('select.point-type').val('');
						} 					
						if(parentElem.find('select.point-type,select.account-id').hasClass('selectBox')){						
							parentElem.find('select.point-type,select.account-id').selectBox('refresh',{mobile: false});
						}					
						parentElem.find('.filterSearch').trigger('click');	
					})

				},
				resetPagination:function(currElem){
										var parent = currElem.parents('.tab-pane');
										var lastPage = parent.find('.dataTables_paginate .paginate_button.next').data('dt-idx');
										parent.find('select.profile-pagination').html(pointSummary.updatePagination(lastPage))
										parent.find("select.profile-pagination").change()
										if(parent.find('select.profile-pagination').hasClass('selectBox')){		
											parent.find('select.profile-pagination').selectBox('refresh',{mobile: false});
										}	
										lastPage >= 2 ? parent.find('.acc-activity-pagination').show() :  parent.find('.acc-activity-pagination').hide()
				},
				generateMobTemplate:function(data){
					//mobile view template
					var mobTemplate = '';
					for(var i=0;i<data.length;i++){
					mobTemplate +='<li class="d-flex justify-content-between">'
								+' <div>';
								var curData = JSON.stringify(data[i]);
								data[i].orderId === '' ?
								mobTemplate	+='<p class="acc-activity-type ">'+data[i].transaction+'</p>'
								:
								mobTemplate	+='<p class="acc-activity-type "><a href="javascript:void(0)" data-trans=\''+curData+'\'>'+data[i].transaction+'</a></p>'
					mobTemplate	+='   <p class="acc-activity-date">'+GetFormattedDate(data[i].date)+'</p>'
								+'  </div>'
								+' <div>'
								+'    <p class="acc-activity-amt">'+Number(data[i].pointAmount).toLocaleString("en")+'</p>'
								+'    <p class="acc-activity-point">'+data[i].pointType+'</p>'
								+'  </div>'
								+'</li>'
					}
					return mobTemplate;
				},
				mobPaginate:function(parent){
					var currPage = parent.find('.paginate_button.current').data('dt-idx');
					if(currPage){					
					var recToHide = recordsPerPage * (currPage - 1);
					var recToshow = recordsPerPage * currPage;
							parent.find('.acc-activity-tableMob .acc-activity-list li').hide().removeClass('d-flex');
							parent.find('.acc-activity-tableMob .acc-activity-list li:lt('+recToshow+')').show().addClass('d-flex');
							parent.find('.acc-activity-tableMob .acc-activity-list li:lt('+recToHide+')').hide().removeClass('d-flex');		
						}
				},
				updateMobView:function(parent,pointType,accountId,sortVal){
					var currDataset = parent.attr('id') === 'nav-house' ? profileData.houseHoldTransactions : profileData.indTransactions;
					var finalArr = []
					for(var i=0;i<currDataset.length;i++){
						if(pointType === '' && accountId !== '' ){
							if(accountId === currDataset[i].accountId){
								finalArr.push(currDataset[i])
							}
						}else if(pointType !== '' && accountId === ''){
							if(pointType === currDataset[i].pointType){
								finalArr.push(currDataset[i])
							}
						}else{
							if(pointType === currDataset[i].pointType && accountId === currDataset[i].accountId){
								finalArr.push(currDataset[i])
							}else{
								finalArr.push(currDataset[i])
							}
						}
					}

					if(sortVal){
						// sorting
						var sortArr = sortVal.split('_');
						if(sortArr[0] === 'points'){
								if(sortArr[1]==="asc"){
									finalArr = finalArr.sort(comparepointAsc)
								}else{
									finalArr = finalArr.sort(comparepointDesc)
								}
						}else if(sortArr[0] === 'date'){
								if(sortArr[1]==="new"){
									finalArr = finalArr.sort(comparedateDesc)
								}else{
									finalArr = finalArr.sort(comparedateAsc)
								}
						}
					}


					finalArr.length >=1 ?
					parent.find('.acc-activity-tableMob .acc-activity-list').html(pointSummary.generateMobTemplate(finalArr))
					:
					parent.find('.acc-activity-tableMob .acc-activity-list').html('<li class="d-flex justify-content-between">'+$('.hist_no_filt_err').text().trim()+'</li>');
					pointSummary.mobPaginate(parent);

				},
				generateTransTemplate:function(data){
					var transTemp = '';
					for(var i=0;i<data.length;i++){
						transTemp+='<tr>'
								+'	<td>'+data[i].quantity+'</td>'
								+'	<td>'+data[i].rewardTitle+' </td>'
								+'	<td>'+Number(data[i].priceInPoints).toLocaleString("en")+' </td>'
								+'	<td>'+data[i].status+' </td>'
								+'	<td><a href="#">'+data[i].deliveryMethod+' </a></td>'
							+'	</tr>'
					}
					return transTemp;
				}
			}


$('#DataTables tbody').html(pointSummary.generateTemplate(profileData.houseHoldTransactions))
$('#DataTables-tom tbody').html(pointSummary.generateTemplate(profileData.indTransactions))

// to make icon clickable
$('.acc-activity-table span.icon').click(function(){
	$(this).parents('tr').find('.clickable').click();
})

if(profileData.houseHoldTransactions.length===0){
	$('#nav-house .acc-activity-pagination').hide()
	$('#mob-household').html('<li class="d-flex justify-content-between">'+$('.hist_no_rec_err').text().trim()+'</li>');
}else{
	$('#nav-house .acc-activity-pagination').show()
	$('#mob-household').html(pointSummary.generateMobTemplate(profileData.houseHoldTransactions))
}

if(profileData.indTransactions.length===0){
	$('#nav-tom .acc-activity-pagination').hide()
	$('#mob-tom').html('<li class="d-flex justify-content-between">'+$('.hist_no_rec_err').text().trim()+'</li>');
}else{
	$('#nav-tom .acc-activity-pagination').show()
	$('#mob-tom').html(pointSummary.generateMobTemplate(profileData.indTransactions))
}

// //mobile view
// $('#mob-household').html(pointSummary.generateMobTemplate(profileData.houseHoldTransactions))
// $('#mob-tom').html(pointSummary.generateMobTemplate(profileData.indTransactions))

$('.acc-activity-tableMob').each(function(){
	$(this).find('.acc-activity-list li').hide().removeClass('d-flex')
	$(this).find('.acc-activity-list li:lt('+recordsPerPage+')').show().addClass('d-flex');
})

/// for transaction details
// Transaction Details Toggle - Mobile
function getOrderhistory() {
	$(".acc-activity-type a").click(function(){
		var currData = JSON.parse($(this).attr('data-trans'));
		$('#transactDate').text(GetFormattedDate(currData.date))
		$('#transactType').text(currData.transaction)
    $('#transactPointAmount').text(Number(currData.pointAmount).toLocaleString('en'))
		$('#transactAccountId').text(currData.accountId)
		$('#transactPointType').text(currData.pointType)

    // after ajax
    if(orderHistory.orderDetail){
		$('#transactAddress').text(orderHistory.orderDetail.addressLine+ ' '+orderHistory.orderDetail.city+ ' '+orderHistory.orderDetail.state+ ' '+orderHistory.orderDetail.postalCode)
		$('#redemptionNumber').text(orderHistory.orderDetail.redemption);
		var template = '';
    var curData = orderHistory.orderDetail.eachLineItem;
    var showPartialPayment = false;
		for(var i=0; i<curData.length;i++){
			var tableId = "";
			if(curData[i].rewardType===1){
				tableId = ".table.order-qty-table";
			}else if(curData[i].rewardType===2){
        showPartialPayment = true;
				tableId = ".table.order-qty-table";	
			}
	
			template+='<div class="tranDetail-list">'
				+'<ul class="clearfix">'
						+'<li><b>'+$(tableId+" .order_qty:first").text().trim()+'</b><p>'+curData[i].quantity+'</p></li>'
						+'<li><b>'+$(tableId+" .order_reward:first").text().trim()+'</b><p>'+curData[i].rewardTitle+'</p> </li>'
						+'<li><b>'+$(tableId+" .order_points:first").text().trim()+'</b><p>'+Number(curData[i].priceInPoints).toLocaleString("en")+'</p> </li>'
						+'<li><b>'+$(tableId+" .order_status:first").text().trim()+'</b><p>'+curData[i].status+'</p> </li>';
			if(curData[i].deliveryLink === ""){
				template+='<li><b>'+$(tableId+" .order_method:first").text().trim()+'</b><p>'+curData[i].deliveryMethod+'</p> </li>'
			}else{
				template+='<li><b>'+$(tableId+" .order_method:first").text().trim()+'</b><p><a href="'+curData[i].deliveryLink+'">'+curData[i].deliveryMethod+'</a></p> </li>'
			}					
			
			template+='</ul>'
				+'</div>';
    }
    $('.tranDetail-shipping').show();
    if(showPartialPayment===true){
      $('.partial-payment').show();
    }else{
      $('.partial-payment').hide();
    }

    $('.tranDetail-list-wrapper').html(template);
  }else{
    $('.partial-payment,.tranDetail-shipping').hide();
    $('.tranDetail-list-wrapper').html("<h5 class='tranDetail-list text-center no-data'>no data found</h5>");
  }

		$(".acc-activity-tranDetails").show();
		$(".acc-activity-all").hide();

    $(".acc-activity-all").hide();
    $('html, body').animate({
      scrollTop: $(".acc-activity-tranDetails").offset().top
    }, 500);  
  });
}
getOrderhistory();


	$(".acc-activity-tranDetails a.backlink").click(function(){
		$(".acc-activity-tranDetails").hide();
		$(".acc-activity-all").show();
	});

	$(".clickable").click(function(){
	
 if(!$(this).parent("tr").hasClass('tableCollapsed')){		
    //after ajax call
    if(orderHistory.orderDetail){
		$('.subTable-wrapper .transAddress').text(orderHistory.orderDetail.addressLine+ ' '+orderHistory.orderDetail.city+ ' '+orderHistory.orderDetail.state+ ' '+orderHistory.orderDetail.postalCode);
    $('.subTable-wrapper .transRedNum').text(orderHistory.orderDetail.redemption);

		var orderQtyArr = [];
		var returnQtyArr = [];
		var currData = orderHistory.orderDetail.eachLineItem;
		for(var i=0;i<currData.length;i++){
			if(currData[i].rewardType===1){
				orderQtyArr.push(currData[i]);
			}else if(currData[i].rewardType===2){
				returnQtyArr.push(currData[i]);	
			}
		}



		$('#accordion .order-qty-table,#accordion .return-qty-table').hide();

		if(orderQtyArr.length >= 1){
			var orderQtyTemplate = pointSummary.generateTransTemplate(orderQtyArr);
			$('#accordion .order-qty-table').show();
			$('#accordion .order-qty-table tbody').html(orderQtyTemplate);
		}

		if(returnQtyArr.length >= 1){
			var returnQtyTemplate = pointSummary.generateTransTemplate(returnQtyArr);
			$('#accordion .return-qty-table').show();
			$('#accordion .return-qty-table tbody').html(returnQtyTemplate);
    }
    
    if(orderQtyArr.length >= 1 && returnQtyArr.length >= 1){
      $('.partial-payment').show();
    }else{
      $('.partial-payment').hide();
    }

 
	//	$(this).parents('.tab-pane').find('table tr').removeClass('tableCollapsed')
		$(this).parent("tr").addClass("tableCollapsed");

		//  show hide logic
	
		var target = $(this).attr("data-target");
		var split = target.substring(1);
		var selectedContent = $(target).html();

		// console.log(selectedContent)
	
		//$(this).toggleClass("active");
		// if($(this).hasClass("active")) {		
			selectedContent = "<tr class='collapsiveTable' role='details'><td colspan='5'><div class=''>"+selectedContent+"</div></td></tr>";
			$(this).parent().after(selectedContent);
		// } else {
		// 	$('[role="details"]').remove();
    // }
    }else{
      $(this).parent("tr").addClass("tableCollapsed");
     // var target = $(this).attr("data-target");
      selectedContent = "<tr class='collapsiveTable' role='details'><td colspan='5'><div class='subTable-wrapper'><h5 class='text-center no-data'>no data found</h5></div></td></tr>";
      $(this).parent().after(selectedContent);
      }
	 }else{
			$(this).parent("tr").removeClass('tableCollapsed')
			$(this).parent("tr").next('[role="details"]').remove();
	 }
	});


$(document).ready(function(){
    	// dataTables Sorting - Desktop

	var dt = $('#DataTables').DataTable({
		"bInfo": false,
	//	"paging": false,
	//	"bPaginate": false,
	"pageLength": recordsPerPage,
	"oLanguage": {
		"sEmptyTable": $('.hist_no_rec_err').text().trim(),
		"sZeroRecords":$('.hist_no_filt_err').text().trim()
},
	//	"bFilter": false,
		"columnDefs": [ 
			{orderable: false,targets: [1,2,3]},
			{"targets":0, "type":"date"}
		],
		"order": [[ 0, "desc" ]]
		});
		
		var dt_tom = $('#DataTables-tom').DataTable({
			"bInfo": false,
		//	"paging": false,
		//	"bPaginate": false,
		"pageLength": recordsPerPage,
		"oLanguage": {
			"sEmptyTable": $('.hist_no_rec_err').text().trim(),
			"sZeroRecords":$('.hist_no_filt_err').text().trim()
	},
		//	"bFilter": false,
			"columnDefs": [ 
				{orderable: false,targets: [1,2,3]},
        {"targets":0, "type":"date"}
			],
			"order": [[ 0, "desc" ]]
			});
		
	$('.loading-div').fadeOut(1000)

  $('.tab-pane .acc-activity-pagination .acc-prev').click(function(){
		var parent = $(this).parents('.tab-pane')
		parent.find('.dataTables_paginate .paginate_button.previous').click();
		pointSummary.paginate($(this));
		pointSummary.mobPaginate(parent);
	})

	$('.tab-pane .acc-activity-pagination .acc-next').click(function(){
		var parent = $(this).parents('.tab-pane')
		parent.find('.dataTables_paginate .paginate_button.next').click();
		pointSummary.paginate($(this));
		pointSummary.mobPaginate(parent);
	})

	//$('select.profile-pagination').html(pointSummary.updatePagination($('.dataTables_paginate .paginate_button.next').data('dt-idx')))
	$('select.profile-pagination').each(function(){
		var lastPage = $(this).parents('.tab-pane').find('.dataTables_paginate .paginate_button.next').data('dt-idx')
		$(this).html(pointSummary.updatePagination(lastPage))
	})

	$('select.point-type').each(function(){
		var currTab = $(this).parents('.tab-pane').attr('id') === "nav-house" ? "H" : "T";
		if(currTab==="H"){
			$(this).html(pointSummary.createOptions(profileData.poolPointType,'point type'));
		}else{
			$(this).html(pointSummary.createOptions(profileData.pointType,'point type'));
		}
	})

	$('select.account-id').each(function(){
		var currTab = $(this).parents('.tab-pane').attr('id') === "nav-house" ? "H" : "T";
		if(currTab==="H"){
			$(this).html(pointSummary.createOptions(profileData.poolAccountType,'account id'));
		}else{
			$(this).html(pointSummary.createOptions(profileData.accountType,'account id'));
		}
	})

	// $('select.point-type').html(pointSummary.createOptions(profileData.pointType,'point type'))
	// $('select.account-id').html(pointSummary.createOptions(profileData.accountType,'account id'))


	if($('select.profile-pagination,select.point-type,select.account-id').hasClass('selectBox')){
		$('select.profile-pagination,select.point-type,select.account-id').selectBox('refresh',{mobile: false});
	}
 
    
	$('select.profile-pagination').on('change',function(){
		var parent = $(this).parents('.tab-pane')
		var currPage = $(this).val();
		parent.find('.dataTables_paginate .paginate_button[data-dt-idx="'+currPage+'"]').click();
		pointSummary.mobPaginate(parent);
    })
    
	$('.filterSearch').on('click',function(){	
				var currElem = $(this);
				var currTable = $(this).parents('.tab-pane').attr('id') === "nav-house" ? dt : dt_tom;
		pointSummary.search(currTable,currElem)
	})


	// to update new

$('#nav-house .house_points_avilable').html(profileData.processedPointsSummary.poolPointsAvailable.toLocaleString('en'))
$('#nav-house .house_points_redeemed').html(profileData.processedPointsSummary.poolPointsRedeemed.toLocaleString('en'))
$('#nav-house .house_points_expiry').html(profileData.processedPointsSummary.poolPointsExpiring.toLocaleString('en'))
$('#nav-house .house_points_expiry_date').html(profileData.processedPointsSummary.poolPointsExpiryDate)

$('#nav-tom .house_points_avilable').html(profileData.processedPointsSummary.indPointsAvailable.toLocaleString('en'))
$('#nav-tom .house_points_redeemed').html(profileData.processedPointsSummary.indPointsRedeemed.toLocaleString('en'))
$('#nav-tom .house_points_expiry').html(profileData.processedPointsSummary.indPointsExpiring.toLocaleString('en'))
$('#nav-tom .house_points_expiry_date').html(profileData.processedPointsSummary.indPointsExpiryDate)

if(profileData.processedPointsSummary.poolPointsExpiring === 0){
  $('#nav-house .house_points_expiry_date').parent().hide();
}

if(profileData.processedPointsSummary.indPointsExpiring === 0){
  $('#nav-tom .house_points_expiry_date').parent().hide();
}

	// Pagination Diable 

	$("select.profile-pagination").change(function(){
		var parent = $(this).parents('.tab-pane')
		var length = $(this).find("option").length;
		var index = $(this).prop('selectedIndex');

		if( index == "0" ) {
			parent.find(".acc-prev").addClass("btn-disable");
			parent.find(".acc-next").removeClass("btn-disable");

		} else if(index+1 == length) {
			parent.find(".acc-next").addClass("btn-disable");
			parent.find(".acc-prev").removeClass("btn-disable");
			
		} else {
			parent.find(".acc-next, .acc-prev").removeClass("btn-disable");
		}

		if(index == "0" && index+1 == length){
			parent.find(".acc-next").addClass("btn-disable");
			parent.find(".acc-prev").addClass("btn-disable");
		}
	});
  $("select.profile-pagination").change();
  // select color change
  $('.tab-content .acc-activity-pagination select').selectBox({
		mobile: false,
		menuSpeed: 'fast',
		menuTransition: 'fade'
	});
})

// $(window).load(function(){
// 	$(".acc-activity-type a").click(function(){
// 		var currData = JSON.parse($(this).attr('data-trans'));
// 		$('#transactDate').text(currData.date)
// 		$('#transactType').text(currData.transaction)
// 		$('#transactPointAmount').text(currData.pointAmount)
// 		$('#transactAccountId').text(currData.accountId)
// 		$('#transactPointType').text(currData.pointType)

// 		// after ajax
// 		$('#transactAddress').text(orderHistory.orderDetail.addressLine+ ' '+orderHistory.orderDetail.city+ ' '+orderHistory.orderDetail.state+ ' '+orderHistory.orderDetail.postalCode)
// 		$('#redemptionNumber').text(orderHistory.orderDetail.redemption);
// 		var template = '';
// 		var curData = orderHistory.orderDetail.eachLineItem;
// 		for(var i=0; i<curData.length;i++){
// 			template+='<div class="tranDetail-list">'
// 				+'<ul class="clearfix">'
// 						+'<li> <b>Qty</b><p>'+curData[i].quantity+'</p></li>'
// 						+'<li> <b>Reward</b> <p>'+curData[i].rewardTitle+'</p> </li>'
// 						+'<li>  <b>Points</b>   <p>'+curData[i].priceInPoints+'</p> </li>'
// 						+'<li>  <b>Status</b>   <p>'+curData[i].status+'</p> </li>'
// 						+'<li>  <b>Delivery Method</b>  <p><a href="#">'+curData[i].deliveryMethod+'</a></p> </li>'
// 				+'</ul>'
// 				+'</div>';
// 		}
// 		$('.tranDetail-list-wrapper').html(template);

// 		$(".acc-activity-tranDetails").show();
// 		$(".acc-activity-all").hide();
// 	});

// 	$(".acc-activity-tranDetails a.backlink").click(function(){
// 		$(".acc-activity-tranDetails").hide();
// 		$(".acc-activity-all").show();
// 	});

// 	$(document).on('.tab-pane .table .clickable','click',function(){
// 	debugger;
//  if(!$(this).parent("tr").hasClass('tableCollapsed')){		
// 		//after ajax call
// 		$('.subTable-wrapper .transAddress').text(orderHistory.orderDetail.addressLine+ ' '+orderHistory.orderDetail.city+ ' '+orderHistory.orderDetail.state+ ' '+orderHistory.orderDetail.postalCode);
// 		$('.subTable-wrapper .transRedNum').text(orderHistory.orderDetail.redemption);
// 		var orderQtyArr = [];
// 		var returnQtyArr = [];
// 		var currData = orderHistory.orderDetail.eachLineItem;
// 		for(var i=0;i<currData.length;i++){
// 			if(currData[i].rewardType===1){
// 				orderQtyArr.push(currData[i]);
// 			}else if(currData[i].rewardType===2){
// 				returnQtyArr.push(currData[i]);	
// 			}
// 		}



// 		$('#accordion .order-qty-table,#accordion .return-qty-table').hide();

// 		if(orderQtyArr.length >= 1){
// 			var orderQtyTemplate = pointSummary.generateTransTemplate(orderQtyArr);
// 			$('#accordion .order-qty-table').show();
// 			$('#accordion .order-qty-table tbody').html(orderQtyTemplate);
// 		}

// 		if(returnQtyArr.length >= 1){
// 			var returnQtyTemplate = pointSummary.generateTransTemplate(returnQtyArr);
// 			$('#accordion .return-qty-table').show();
// 			$('#accordion .return-qty-table tbody').html(orderQtyTemplate);
// 		}
// 	//	$(this).parents('.tab-pane').find('table tr').removeClass('tableCollapsed')
// 		$(this).parent("tr").addClass("tableCollapsed");

// 		//  show hide logic
	
// 		var target = $(this).attr("data-target");
// 		var split = target.substring(1);
// 		var selectedContent = $(target).html();

// 		// console.log(selectedContent)
	
// 		//$(this).toggleClass("active");
// 		// if($(this).hasClass("active")) {		
// 			selectedContent = "<tr class='collapsiveTable' role='details'><td colspan='5'><div class=''>"+selectedContent+"</div></td></tr>";
// 			$(this).parent().after(selectedContent);
// 		// } else {
// 		// 	$('[role="details"]').remove();
// 		// }
// 	 }else{
// 			$(this).parent("tr").removeClass('tableCollapsed')
// 			$(this).parent("tr").next('[role="details"]').remove();
// 	 }
// 	});

// })

//<li>Tom <a href="#">X</a></li>